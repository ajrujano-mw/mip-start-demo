"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9546],{7606:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>r,toc:()=>c});var i=t(4848),a=t(8453);const s={},o="Data Agnostic",r={id:"mip_opt/best_practices/data_agnostic",title:"Data Agnostic",description:"You may have noticed that we have explicitly used the given",source:"@site/docs/mip_opt/3_best_practices/1_data_agnostic.md",sourceDirName:"mip_opt/3_best_practices",slug:"/mip_opt/best_practices/data_agnostic",permalink:"/mip-start-demo/program/mip_opt/best_practices/data_agnostic",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"mipOptSidebar",previous:{title:"Best Practices",permalink:"/mip-start-demo/program/category/best-practices"}},l={},c=[{value:"Motivation",id:"motivation",level:2},{value:"Writing data agnostic formulations",id:"writing-data-agnostic-formulations",level:2},{value:"Implementation of the data agnostic formulation",id:"implementation-of-the-data-agnostic-formulation",level:2},{value:"Using IDs instead of business names",id:"using-ids-instead-of-business-names",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"data-agnostic",children:"Data Agnostic"}),"\n",(0,i.jsx)(n.p,{children:"You may have noticed that we have explicitly used the given\r\ndata instance in some formulations and implementations studied so far."}),"\n",(0,i.jsxs)(n.p,{children:["For example, in the ",(0,i.jsx)(n.a,{href:"/mip-start-demo/program/mip_opt/introduction/tictech_formulation",children:"TicTech"})," problem\r\nwe see the numbers 1, 2, and 3 (which we used to identify the three\r\ntechnologies) being explicitly used to define the decision variables,\r\nconstraints, and objective function."]}),"\n",(0,i.jsxs)(n.p,{children:["However, ",(0,i.jsx)(n.strong,{children:"using explicit data to formulate and implement models is NOT\r\na good practice"}),", even more so when it comes to solving real-world\r\nproblems. The only reason we still use explicit data here and there is to avoid\r\nintroducing too much abstraction at once, i.e., for didactic reasons."]}),"\n",(0,i.jsx)(n.p,{children:"As you get more familiar with the process of writing formulations and\r\nimplementing models, you should shift towards a more professional style."}),"\n",(0,i.jsx)(n.h2,{id:"motivation",children:"Motivation"}),"\n",(0,i.jsxs)(n.p,{children:["Let's consider the ",(0,i.jsx)(n.a,{href:"https://www.mipwise.com/use-cases/soyking",children:"SoyKing"})," problem for a moment. In the instance\r\nprovided with the statement, there were only 3 farms and 2 distribution\r\ncenters (DCs). As a result, we had 6 decision variables and 5 constraints.\r\nIf we had 10 farms and 5 DCs, we would have had 50 decision variables and 15\r\nconstraints, which would be quite boring to type down."]}),"\n",(0,i.jsx)(n.p,{children:"Imagine that right after looking at the results, your client tells you\r\nthat there are now a few new farms to be considered and the demands have\r\nchanged a bit. Further, imagine that even before you are done updating your\r\nformulation and model, your client sends you an updated costs table!"}),"\n",(0,i.jsx)(n.p,{children:"A situation like this would be a nightmare, and it will surely\r\nhappen in the real world if you formulate and implement the model\r\nas a function of a given data instance!"}),"\n",(0,i.jsx)(n.h2,{id:"writing-data-agnostic-formulations",children:"Writing data agnostic formulations"}),"\n",(0,i.jsxs)(n.p,{children:["The way to avoid the inefficiency described above is to abstract the data\r\nby defining ",(0,i.jsx)(n.strong,{children:"collections of indices and parameters"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Going back to the ",(0,i.jsx)(n.a,{href:"https://www.mipwise.com/use-cases/soyking",children:"SoyKing"})," problem, we need to define\r\na collection of farms and a collection of DCs. Then we can define parameters to\r\nrepresent supply, demand, and transportation costs accordingly."]}),"\n",(0,i.jsx)(n.p,{children:"The formulation itself can be completely data agnostic. And once\r\nsuch formulation is implemented as an optimization model, we\r\ncan populate these indices and parameters with actual data from a given\r\ninstance of the problem and solve it. We can then repeat this for\r\nmultiple instances of the problem without having to modify the formulation\r\nor the optimization model at all. That is the target!"}),"\n",(0,i.jsx)(n.p,{children:'To see some practical examples, have a look at the data agnostic formulation\r\nof the TicTech and other problems such as (right click on the link, and then "Save link as")'}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/files/pastesian_pro.ipynb",children:"pastesian"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/files/soyking_pro.ipynb",children:"soyking"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"implementation-of-the-data-agnostic-formulation",children:"Implementation of the data agnostic formulation"}),"\n",(0,i.jsx)(n.p,{children:"Below is an implementation of the data agnostic formulation of TicTech.\r\nAs you can see, the input data is completely apart from the model.\r\nIn fact, this data could even be loaded from a file, such as a JSON or a CSV\r\nfile. That's precisely what typically happens in real-life applications, and we\r\nwill transition into that style as we move along."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import pulp\r\n\r\n# Input data\r\n# technologies\r\nI = {'T1', 'T2', 'T3'}\r\n# scores\r\ns = {'T1': 12, 'T2': 17, 'T3': 25}\r\n\r\n# Define the model\r\nmdl = pulp.LpProblem('TicTech', sense=pulp.LpMaximize)\r\n\r\n# Add variables\r\nx = pulp.LpVariable.dicts(indices=I, cat=pulp.LpBinary, name='x')\r\n\r\n# Add Constraints\r\nmdl.addConstraint(sum(x[i] for i in I) == 1, name='c1')\r\n\r\n# Set the objective function\r\nmdl.setObjective(sum(s[i] * x[i] for i in I))\r\n\r\n# Optimize\r\nmdl.solve()\r\n\r\n# Retrieve the solution\r\nx_sol = {i: x[i].value() for i in I}\r\nprint(f'x = {x_sol}')\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For more examples, check out\r\n",(0,i.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:t(1697).A+"",children:"soyking_pro_pulp.py"})," and ",(0,i.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:t(9967).A+"",children:"pastesian_pro_pulp.py"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"using-ids-instead-of-business-names",children:"Using IDs instead of business names"}),"\n",(0,i.jsxs)(n.p,{children:['You may have noticed that we used IDs instead of business names in the "pro"\r\nimplementations. The reason for that is mainly ',(0,i.jsx)(n.em,{children:"performance"}),". Of course, it\r\nwould not make any difference for these little instances. But for large\r\ninstances, depending on which solver and API you are using,\r\nhaving lengthy strings as indices can seriously compromise performance\r\nwhen loading and solving the optimization model."]}),"\n",(0,i.jsx)(n.p,{children:"In the case of time periods, like in the Pastesian problem, we not only use\r\nIDs as we also make sure they are contiguous integers starting from 1,\r\nbecause we typically use these assumptions as part of the modeling."})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},9967:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/files/pastesian_pro_pulp-45614e3c8c7cb95d90027da961c38f01.py"},1697:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/files/soyking_pro_pulp-064fb169acef345b61c5c95756d74f1c.py"},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var i=t(6540);const a={},s=i.createContext(a);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);