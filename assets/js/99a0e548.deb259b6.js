"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5176],{3846:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>a});var s=n(4848),r=n(8453);const i={},l="Overview",c={id:"mip_go/develop/data_schema/overview",title:"Overview",description:"We discussed how to define an input and output schema in Section [Data",source:"@site/docs/mip_go/5_develop/4_data_schema/0_overview.md",sourceDirName:"mip_go/5_develop/4_data_schema",slug:"/mip_go/develop/data_schema/overview",permalink:"/mip-start-demo/program/mip_go/develop/data_schema/overview",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:0,frontMatter:{},sidebar:"mipGoSidebar",previous:{title:"Data Schema",permalink:"/mip-start-demo/program/category/data-schema"},next:{title:"Input schema",permalink:"/mip-start-demo/program/mip_go/develop/data_schema/input_schema"}},d={},a=[{value:"Diet Problem",id:"diet-problem",level:2},{value:"Implementing the schema",id:"implementing-the-schema",level:2},{value:"Creating the <code>schemas.py</code> file",id:"creating-the-schemaspy-file",level:3}];function o(e){const t={a:"a",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(t.p,{children:["We discussed how to define an input and output schema in Section ",(0,s.jsx)(t.a,{href:"/mip-start-demo/program/mip_go/define/data_schemas",children:"Data\r\nSchema"})," of the module ",(0,s.jsx)(t.a,{href:"/mip-start-demo/program/mip_go/define/welcome",children:"Define"}),". Now it's time for you\r\nto implement the schemas you have defined!"]}),"\n",(0,s.jsxs)(t.p,{children:["We will be using ",(0,s.jsx)(t.a,{href:"https://github.com/ticdat/ticdat",children:"ticdat"}),", which is a Python package that will\r\nautomate a lot of the hard work we would have to do in order to get our\r\nsolution protected against dirty data. Not only that, but ticdat also helps\r\nend-users to identify and resolve issues in their data as we will see later.\r\nIn addition, ticdat will help us to create and use parameters (that will\r\nallow business people to interact with our solution), as well as organize\r\nand use data throughout the code. All of that will ultimately lead us to\r\nwrite tidy programs."]}),"\n",(0,s.jsx)(t.p,{children:"So before you continue, make sure to install the ticdat package on the\r\nPython interpreter that you are using in your project."}),"\n",(0,s.jsxs)(t.p,{children:["\u2754\ufe0f ",(0,s.jsx)(t.strong,{children:"Curiosity"}),(0,s.jsx)(t.br,{}),"\n",(0,s.jsxs)(t.em,{children:["The name ",(0,s.jsx)(t.strong,{children:"ticdat"}),' comes from the sentence "analytic data". Here, we\r\nexplain how in a "Pythonic" way:']})," \ud83d\ude43"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:'s1  = "analytic"\r\ns2 = "data"\r\npackage_name = s1[-3:] + s2[:3]\n'})}),"\n",(0,s.jsx)(t.h2,{id:"diet-problem",children:"Diet Problem"}),"\n",(0,s.jsx)(t.p,{children:"We will use the Diet Problem to show you how to create schemas using ticdat."}),"\n",(0,s.jsxs)(t.p,{children:["Here is a statement of the problem:",(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.em,{children:"Given a set of foods and a set of nutrients, the goal is to make a\r\nselection of food and the respective quantity to compose the least\r\nexpensive diet that meets min and max recommended intake of nutrients."})]}),"\n",(0,s.jsxs)(t.p,{children:["Here is a sample data, derived from our\r\n",(0,s.jsx)(t.a,{href:"/mip-start-demo/program/mip_go/define/development_instance",children:"development instance"})," of the diet problem, with only\r\nthree foods and two nutrients:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"foods"})})}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Food ID"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Food Name"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Per Unit Cost"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"f1"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Grapes"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"3.5"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"f2"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Melon"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"5.6"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"f3"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Watermelon"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"2.3"})]})]})]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"nutrients"})})}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Nutrient ID"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Nutrient Name"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Min Intake"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Max Intake"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"n1"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Calories (kcal)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"200.0"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"2000.0"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"n2"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Carbohydrates (g)"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"250.0"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"150.0"})]})]})]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"foods_nutrients"})})}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Food ID"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Nutrient ID"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Quantity"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"f1"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"n1"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"0.69"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"f2"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"n1"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"0.28"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"f3"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"n1"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"0.3"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"f1"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"n2"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"0.181"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"f2"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"n2"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"0.0658"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"f3"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"n2"}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"0.0755"})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"implementing-the-schema",children:"Implementing the schema"}),"\n",(0,s.jsxs)(t.p,{children:["In the future, you will most likely just copy a ",(0,s.jsx)(t.code,{children:"schemas.py"})," file from\r\nanother project and start overriding its content. But this time, we will\r\ncreate it from scratch."]}),"\n",(0,s.jsxs)(t.h3,{id:"creating-the-schemaspy-file",children:["Creating the ",(0,s.jsx)(t.code,{children:"schemas.py"})," file"]}),"\n",(0,s.jsxs)(t.p,{children:["Let's create a new script called ",(0,s.jsx)(t.code,{children:"schemas.py"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["Right-click on the scripts' directory of your project (",(0,s.jsx)(t.code,{children:"mip_me"})," in our case),\r\ngo to ",(0,s.jsx)(t.code,{children:"New > Python File"}),", then type in ",(0,s.jsx)(t.code,{children:"schemas"})," and hit ",(0,s.jsx)(t.code,{children:"Enter"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["\ud83d\udcdd ",(0,s.jsx)(t.strong,{children:"Tip:"}),"\r\n",(0,s.jsxs)(t.em,{children:["If you need to rename a file in Pycharm, right-click on it and then choose\r\n",(0,s.jsx)(t.code,{children:"Refactor > Rename"}),"."]})]}),"\n",(0,s.jsxs)(t.p,{children:["Now, go ahead and write the first line of code to import the ",(0,s.jsx)(t.code,{children:"PanDatFactory"})," class:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:"from ticdat import PanDatFactory\n"})}),"\n",(0,s.jsx)(t.p,{children:"We will use this class to implement the input and output schema of our\r\nsolution. More specifically, each schema will be an instance of this class."}),"\n",(0,s.jsxs)(t.p,{children:["If you're not familiar with classes, you can simply think of an instance of\r\nthe ",(0,s.jsx)(t.code,{children:"PanDatFactory"})," class as a collection of Pandas Dataframes, each table\r\nof the schema becomes a dataframe as you will see later. But if you would\r\nrather store tables as dictionaries, then you can use the ",(0,s.jsx)(t.code,{children:"TicDatFactory"}),"\r\nclass instead. Defining schemas and performing all the tasks shown below work\r\nthe same way for both classes, only the way that data get stored will change."]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsxs)(t.p,{children:["Click ",(0,s.jsx)(t.strong,{children:"Next"})," once you be ready to continue."]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>c});var s=n(6540);const r={},i=s.createContext(r);function l(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);